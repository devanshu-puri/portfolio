// File: src/components/LoadingScreen.jsx

import React, { useState, useEffect } from 'react';

const LoadingScreen = ({ onComplete }) => {
  const [progress, setProgress] = useState(0);

  useEffect(() => {
    const interval = setInterval(() => {
      setProgress(prev => {
        if (prev >= 100) {
          clearInterval(interval);
          setTimeout(onComplete, 500); 
          return 100;
        }
        return prev + Math.random() * 3;
      });
    }, 80);

    return () => clearInterval(interval);
  }, [onComplete]);

  const asciiArt = `
                                         =.                                       
                                 .::...:-:.-.:--                                  
                           .=*+*#%%%%@@#=*-*#=*--.  :                             
                       -+*######*********#%#**%@%*#=:::                           
                    .+*%%%#****###########*###+++#%@#-:*:                         
                 .-#%%#%###%@@@%%%%%%%%%#####%###***%@*===*=:                     
              -=*#%%#%#######*###%%%####%##%%*##%###**#@#+==+#*#                  
          .==*#%%%%%%%%%%%%%##*******#%%%#%#**#######%**#@%*+++**#                
        :*##%%%%##%%%%%%%###%%%%%%%%%%#*###%@%**##%#**##**%%%#+=+*+               
        +#%%%#%%%%%%%%#####%%%@@@@@@@@@@@@@@#%%%%##%@%#*#*+*#%%#=-=:              
       --%%%%##%#%%%%%%%%%%%@@@@@@%%%%%%@%@@@@@@@@%##%%%#%@#**%##%#+=-            
      ##%%%%%%@%%%%%%%%%%@@@%***+*+==--:::::-+#%@@@@@%%%%%%%#**#%#%%=-:.          
     :#*@@%%%%%%%@@@@%%%##*=+*+==-:----------:--+##@@@%%#%%%%###**###*+*#:        
     =*#%##%##%%%%*+*##**#*#*=---======----=-==--=+#%@@@%%%##%#%@%##%####         
    =+*%####%%@%%##%#**#**==-==++=+++++++++++++=---+*#%@@@@%####*#%@%*+++         
   -##%%@%@@@%@%###**##++++++*+++++++++======++++=====+*#@@@@%#@@%%##%*+-         
   -##@@%%@%%@@######**+**+====++=+++++++*+++++++====--:-+#@%%%%#%%%%##*#         
   -*#%%%%%%@@#*#%%#**+++==========-==++++======+=++====-=@@@@###**#%@#*#         
   *###@%%#%@@+**+-------=-----=====---::-::........:----:=@@%%%%%%%+@*=-         
    #**%%@@@@*-::.....::-====+++++***+=-:::=*%@@@@@@@=:::-:-%@%##%%*#+-          
     ++%@#@@%+*@@@@@@@%#+==::-------::=*##@##%+**+*##%@@*--.-#%#%###%+:           
      #@@##*=+*####@@@@@@@@@@@%@@@@@@@@@@@@@@@#*+--=:.-=%+-::*%##@@*.             
      .#+=**%#*+===+***###*=#%*+**###++**#%#+=:=+#%=:.:.-#+--%@@@@@* ==#%%++++***+++**#%%%****+..=#%@@@@@#@@#*+@**@@@@#=+-.   ++.               
       ++@@@=+*#%@@@@@@@@#%%#@%*++==*%=#@@.%@@@@# *@@===-*@=+@@@@#:.:             
       %   +*##@%#:.*@@@++%*@@=:-=@**@*#*#+=...:-*:.-*++:=#-=.++ :+@@@=           
       -: -%+***#%#*+=-+%@%+@*-==:+@=#-###@@@@@@@@@%*+=++*#=-:#%:..:#@* .# +#===++*#@@@%#++*@*-====-**++-=+=-.:-----:-=++++=----#@#+ -%#           
        +.*#+=====-----===%%++++-==-*# .-==+=++==-==++-.=#-===:*@@@*=+.           
        -*--=============#%=-===-----#@+:---=-=======-=**---=--+--@+*+            
         ##=**+===--=*+*%%#+=+++==+*+*+%@+=*+++*==+=-+%----==---=@@:+.            
         *#=*+==+*###%##=:::::...    ..++*%@@@%@%**++=-====++:=@%..%#             
         :%#*****+++=--+=*%%***+=*@@%= -+--::-:--===========-.#*.-#=              
           *+**+====++++%@@@@@@#%%%*@@@%+=+*+====--=++======::@@+-                
           -=========++=-:.-#%+=+###. .:=++==+=++++==+=+--===*%=.                 
           *++++++=====::-#@@@@@@@@@@#::..::=---+=+*+=---==*##+:                  
           *#**++=+**==*@@@@#+....=@%%@@%@:--**--=-==*#++***=##.                  
           =#***++%@@@@@*+*+++#+**===**#+@@@@@%%*+=+++++**++##* +@*++++@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@====+*++==+*##                   
            +#+*+=*#####*-....::-.       -%%@@@@%.+*+*++++#@@#                    
             +###++++-:=++##*+=-=++*#@%#+:   .=+*+*#@@#++**@%%                    
             -%%******+*******+++++==--=++==::-+*=+++=+***%@@#                    
              =#+*******+++%@@@@@@@@@@#*+++**+++#**#**++-+@@*+                    
               =#++++++*###**##@%%@@@@#%%#=*+-+===+++--=@@@+-=                    
                :=+*##+=++====+*#=-:.-==--+=*--#*++==+#@@*--++                    
                  -*%#*++++====-=:-:=--=---===+*#%#*%@@@+-=+++                    
                   -*%%*##***#****#=+++**%#*%#@@%##@@@*==++====.                  
                    -*@@%%%%%%#%%%%@#%@@#@@@@%%#%%@@*:-===++*%@@@.  .*+---        
                      =#@@@@@@@@@@%@@@@@@@@%@@@@@@%++**###%@@@@*:-:--=++-==       
                       =%@@@@@@@@@@@@@@@@@@@@@@%#+=**%@@@@@+..  -+=*=-===---      
                          ::-*@@@@@@@@@@%@@@##*##@@@@@*. .  -*+=- :=--:-++::.     
                          **+==+*###%#%%%##%@@@@@+..   :###%+.:++-=*+=::=--+#+    
                          :******###%%%@@@@@#-:. . **%#+:..*+=++=++=**==*+*****#* .+***###%%@@@@+. :-.+****#+.#+=++*=-++#*+-=++****+=+++- 
                          +++******%@=- :-#.-#**:%*=+*++-*++#**+=+++++++++++===== 
                        *@@#*****#@@-:: ++*##-:=**#+*++#*#*===**+=+++*+====--===* :@@@@@@##*+**%@ -*%+*--=+###+.=+##=--+#+===++=========-==++#* +-... %@@@*++@--.-#*+*+#--*---:=**+++-:--+=--==+++++*+++=++*: 
                    :*+-=-.+@@@*+@::+=-+:@: .=*%###**+=+=+**++==+++++++-====+++=+ 
                     ***++: @@@@#@- +=-===*#@%##*+===-*++++++++****+=+++=++=-=+== 
                     %+++== #@@@@@@*-=+=+%%*#*=--=+*++#*++++=++*+=++-=+++==+++=:- 
                     .-++++=**=+...-=%**%##+==-+*##*#*#**++*+++++++==+=+=+#*+=-== 
  `;

  return (
    <div className="h-screen w-full flex flex-col items-center justify-center bg-background text-cyan font-mono overflow-hidden">
      <pre 
        className="text-center text-[4px] md:text-[6px] lg:text-[8px] leading-[4px] md:leading-[6px] lg:leading-[8px] animate-pulse"
        style={{ color: '#00ffff' }}
      >
        {asciiArt}
      </pre>
      <div className="mt-8 w-full max-w-xl flex flex-col items-center">
        <div className="w-full bg-cyan/20 h-4 border-2 border-cyan p-1">
          <div 
            className="bg-cyan h-full transition-all duration-150" 
            style={{ width: `${Math.min(progress, 100)}%` }}
          ></div>
        </div>
        <div className="mt-4 text-lg">
          [ BOOTING SYSTEM... {Math.floor(Math.min(progress, 100))}% ]
        </div>
      </div>
    </div>
  );
};

export default LoadingScreen;